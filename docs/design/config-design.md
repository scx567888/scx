## é…ç½®æ¨¡å‹

## 1. é…ç½®ç±»å‹ï¼šé€šä¿¡ç³»ç»Ÿçš„è¯­ä¹‰æ„æˆå•ä½

åœ¨è®¾è®¡ä¸­ï¼Œ**é…ç½®æ˜¯ä¸€ç§å®è§‚çš„è¯­ä¹‰æ¦‚å¿µ**ï¼Œç”¨äºè¡¨è¾¾é€šä¿¡ç³»ç»Ÿä¸­å„ç±»å¯è®¾å®šè¡Œä¸ºã€‚æˆ‘ä»¬å°†å…¶åˆ’åˆ†ä¸ºä¸‰ç±»ï¼Œæ¯ç±»é…ç½®å¯¹åº”ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸä¸èŒè´£ã€‚

### ğŸ“š ä¸‰ç±»é…ç½®

| é…ç½®ç±»å‹       | å«ä¹‰ä¸èŒè´£            | ç”Ÿå‘½å‘¨æœŸ        | ç¤ºä¾‹                                |
|------------|------------------|-------------|-----------------------------------|
| **ä¸»ä½“é…ç½®**   | å®šä¹‰å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨æœ¬ä½“çš„é•¿æœŸç‰¹æ€§ | ä¸é€šä¿¡å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸€è‡´ | `tls`ã€`backlog`                   |
| **è¿æ¥è¡Œä¸ºé…ç½®** | æ§åˆ¶è¿æ¥å»ºç«‹è¿‡ç¨‹çš„çŸ­æ—¶ç­–ç•¥    | ä»…åœ¨è¿æ¥é˜¶æ®µå­˜åœ¨    | `timeout`ã€`bindPort`ã€`remoteAddr` |
| **äº‹ä»¶æ³¨å†Œé…ç½®** | æè¿°è¿æ¥å»ºç«‹åå¯¹äº‹ä»¶çš„å“åº”ç­–ç•¥  | ä¸è¿æ¥ç”Ÿå‘½å‘¨æœŸä¸€è‡´   | `onConnect(handler)`ã€`onClose()`  |

### ğŸ§© ä¸ºä½•æ˜¾å¼åˆ†ç±»ï¼Ÿ

> å°½ç®¡**è¿™ä¸‰ç±»é…ç½®å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ã€ç±»æ–¹æ³•æˆ– setter è®¾ç½®**ï¼Œæˆ‘ä»¬ä¾ç„¶é€‰æ‹©åœ¨è¯­ä¹‰ä¸Šè¿›è¡Œæ˜¾å¼åˆ’åˆ†ï¼ŒåŸå› åœ¨äºï¼š

- **çªå‡ºå„é…ç½®ç±»å‹çš„èŒè´£è¾¹ç•Œä¸ç”Ÿå‘½å‘¨æœŸå·®å¼‚**ï¼›
- **æå‡ä½¿ç”¨è€…çš„ç†è§£èƒ½åŠ›ä¸ä½¿ç”¨æ„å›¾çš„æ¸…æ™°è¡¨è¾¾**ï¼›
- **éµå¾ªæ¥å£ä¸€è‡´æ€§ä¸çº¯ç²¹æ€§è®¾è®¡åŸåˆ™**ã€‚

è¿™ä¸æ˜¯å®ç°ä¸Šçš„é™åˆ¶ï¼Œè€Œæ˜¯è®¾è®¡å±‚æ¬¡ä¸Šçš„é€‰æ‹©ã€‚

---

### ğŸ“¦ å¯¹åº”çš„ä¼ é€’æ–¹å¼ï¼ˆè®¾è®¡çº¦å®šï¼‰

| é…ç½®ç±»å‹   | é»˜è®¤ä¼ é€’æ–¹å¼                     | è¯´æ˜                                        |
|--------|----------------------------|-------------------------------------------|
| ä¸»ä½“é…ç½®   | æ„é€ å‚æ•° / Setter              | ç”Ÿå‘½å‘¨æœŸé•¿ã€å¯åŠ¨æ€ä¿®æ”¹ï¼Œé€šå¸¸é€šè¿‡ `options()` è·å–å’Œè®¾ç½®        |
| è¿æ¥è¡Œä¸ºé…ç½® | `start()` / `connect()` å‚æ•° | ä»…åœ¨è¿æ¥å»ºç«‹é˜¶æ®µä¼ é€’ï¼Œéšåå³å¤±æ•ˆ                          |
| äº‹ä»¶æ³¨å†Œé…ç½® | ç‹¬ç«‹æ–¹æ³•æ³¨å†Œ                     | è™½ä¸ºâ€œé…ç½®â€ï¼Œä½†ä¸ºäº†çªå‡ºå…¶è¯­ä¹‰ï¼Œé‡‡ç”¨æ˜¾å¼æ³¨å†Œå½¢å¼ï¼ˆå¦‚ `onConnect()`ï¼‰ |

---

## âœ… ä½¿ç”¨ç¤ºä¾‹

```java
public static void serverDemo() {

    // é€šä¿¡ä¸»ä½“æŒæœ‰é…ç½®
    var server = new TCPServer(new TCPServerOptions().tls(TLS.ofDefault()));

    // å¯éšæ—¶åŠ¨æ€ä¿®æ”¹é…ç½®
    server.options().tls(TLS.ofTrustAny());

    // äº‹ä»¶æ³¨å†Œé…ç½®
    server.onConnect(connect -> {
        System.out.println(connect.remoteAddress());
    });

    // è¿æ¥è¡Œä¸ºé…ç½®
    server.start(8899);
}

public static void clientDemo() {

    // é€šä¿¡ä¸»ä½“æŒæœ‰é…ç½®
    var client = new TCPClient(new TCPClientOptions().tls(TLS.ofDefault()));

    // å¯éšæ—¶åŠ¨æ€ä¿®æ”¹é…ç½®
    client.options().tls(TLS.ofTrustAny());

    // client ä¸æ”¯æŒäº‹ä»¶æ³¨å†Œ

    // è¿æ¥è¡Œä¸ºé…ç½®
    client.connect(new InetSocketAddress("127.0.0.1", 8899), 5000);
}
```
